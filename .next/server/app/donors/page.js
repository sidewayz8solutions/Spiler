(()=>{var e={};e.id=796,e.ids=[796],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4300:e=>{"use strict";e.exports=require("buffer")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},5477:e=>{"use strict";e.exports=require("punycode")},2781:e=>{"use strict";e.exports=require("stream")},7310:e=>{"use strict";e.exports=require("url")},9796:e=>{"use strict";e.exports=require("zlib")},5998:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>d,routeModule:()=>x,tree:()=>c});var r=s(482),n=s(9108),a=s(2563),i=s.n(a),o=s(8300),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);s.d(t,l);let c=["",{children:["donors",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,432)),"/Users/sidewayz8/Spiler/src/app/donors/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,847)),"/Users/sidewayz8/Spiler/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9361,23)),"next/dist/client/components/not-found-error"]}],d=["/Users/sidewayz8/Spiler/src/app/donors/page.tsx"],u="/donors/page",p={require:s,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/donors/page",pathname:"/donors",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},3424:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,2583,23)),Promise.resolve().then(s.t.bind(s,6840,23)),Promise.resolve().then(s.t.bind(s,8771,23)),Promise.resolve().then(s.t.bind(s,3225,23)),Promise.resolve().then(s.t.bind(s,9295,23)),Promise.resolve().then(s.t.bind(s,3982,23))},4178:(e,t,s)=>{Promise.resolve().then(s.bind(s,4669)),Promise.resolve().then(s.bind(s,7635))},3114:(e,t,s)=>{Promise.resolve().then(s.bind(s,2838))},2838:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i});var r=s(5344),n=s(5101);let a=(0,s(3158).Ue)((e,t)=>({donors:[],selectedDonors:[],filters:{status:null,minScore:null,search:""},sortBy:"score",setDonors:t=>e({donors:t}),addDonor:t=>e(e=>({donors:[...e.donors,t]})),updateDonor:(t,s)=>e(e=>({donors:e.donors.map(e=>e.id===t?{...e,...s}:e)})),deleteDonor:t=>e(e=>({donors:e.donors.filter(e=>e.id!==t)})),selectDonor:t=>e(e=>({selectedDonors:[...e.selectedDonors,t]})),deselectDonor:t=>e(e=>({selectedDonors:e.selectedDonors.filter(e=>e!==t)})),selectAll:()=>e(e=>({selectedDonors:e.donors.map(e=>e.id)})),deselectAll:()=>e({selectedDonors:[]}),setFilters:t=>e({filters:t}),setSortBy:t=>e({sortBy:t}),getFilteredDonors:()=>{let{donors:e,filters:s,sortBy:r}=t(),n=[...e];if(s.status&&(n=n.filter(e=>e.status===s.status)),s.minScore&&(n=n.filter(e=>e.score>=s.minScore)),s.search){let e=s.search.toLowerCase();n=n.filter(t=>t.full_name?.toLowerCase().includes(e)||t.email?.toLowerCase().includes(e)||t.phone?.includes(e))}return n.sort((e,t)=>{switch(r){case"score":return(t.score||0)-(e.score||0);case"name":return(e.full_name||"").localeCompare(t.full_name||"");case"amount":return(t.previous_donation_amount||0)-(e.previous_donation_amount||0);case"recent":return new Date(t.last_contact_date||0)-new Date(e.last_contact_date||0);default:return 0}}),n}}));function i(){let{donors:e,getFilteredDonors:t}=a();return(0,r.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-spiler-darker to-spiler-dark",children:[r.jsx(n.Z,{}),r.jsx("main",{className:"max-w-6xl mx-auto px-4 py-8",children:r.jsx("h1",{className:"text-3xl font-bold text-gradient mb-8",children:"Donor Management"})})]})}},5101:(e,t,s)=>{"use strict";s.d(t,{Z:()=>g});var r=s(5344),n=s(3729),a=s(6506),i=s(8428),o=s(4614),l=s(6233),c=s(8360),d=s(7306),u=s(518),p=s(4104),x=s(6501),h=s(7602),m=s(364);let f=[{href:"/",label:"Dashboard",icon:l.Z},{href:"/dialer",label:"Dialer",icon:c.Z},{href:"/queue",label:"Queue",icon:d.Z},{href:"/donors",label:"Donors",icon:u.Z},{href:"/analytics",label:"Analytics",icon:l.Z},{href:"/settings",label:"Settings",icon:p.Z}];function g(){let e=(0,i.usePathname)(),{user:t,signOut:s}=(0,o.a)(),[l,c]=(0,n.useState)(!1);return(0,r.jsxs)("nav",{className:"bg-spiler-dark/50 backdrop-blur-lg border-b border-indigo-500/10 sticky top-0 z-50",children:[r.jsx("div",{className:"max-w-7xl mx-auto px-4",children:(0,r.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,r.jsxs)(a.default,{href:"/",className:"flex items-center space-x-2",children:[r.jsx("span",{className:"text-2xl",children:"\uD83D\uDCDE"}),r.jsx("span",{className:"text-xl font-bold text-gradient",children:"Spiler"})]}),r.jsx("div",{className:"hidden md:flex items-center space-x-1",children:f.map(t=>{let s=t.icon,n=e===t.href;return(0,r.jsxs)(a.default,{href:t.href,className:`
                    flex items-center space-x-2 px-4 py-2 rounded-lg transition-all
                    ${n?"bg-indigo-500/20 text-indigo-400":"text-gray-400 hover:text-white hover:bg-white/5"}
                  `,children:[r.jsx(s,{className:"w-5 h-5"}),r.jsx("span",{children:t.label})]},t.href)})}),(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsxs)("div",{className:"hidden md:flex items-center space-x-3",children:[r.jsx("span",{className:"text-sm text-gray-400",children:t?.email}),r.jsx("button",{onClick:s,className:"p-2 text-gray-400 hover:text-white transition-colors",title:"Sign out",children:r.jsx(x.Z,{className:"w-5 h-5"})})]}),r.jsx("button",{onClick:()=>c(!l),className:"md:hidden p-2 text-gray-400 hover:text-white",children:l?r.jsx(h.Z,{className:"w-6 h-6"}):r.jsx(m.Z,{className:"w-6 h-6"})})]})]})}),l&&r.jsx("div",{className:"md:hidden bg-spiler-dark border-t border-indigo-500/10",children:(0,r.jsxs)("div",{className:"px-4 py-4 space-y-2",children:[f.map(t=>{let s=t.icon,n=e===t.href;return(0,r.jsxs)(a.default,{href:t.href,onClick:()=>c(!1),className:`
                    flex items-center space-x-3 px-4 py-3 rounded-lg transition-all
                    ${n?"bg-indigo-500/20 text-indigo-400":"text-gray-400 hover:text-white hover:bg-white/5"}
                  `,children:[r.jsx(s,{className:"w-5 h-5"}),r.jsx("span",{children:t.label})]},t.href)}),(0,r.jsxs)("button",{onClick:s,className:"flex items-center space-x-3 px-4 py-3 text-red-400 hover:bg-red-500/10 rounded-lg w-full",children:[r.jsx(x.Z,{className:"w-5 h-5"}),r.jsx("span",{children:"Sign Out"})]})]})})]})}},7635:(e,t,s)=>{"use strict";s.r(t),s.d(t,{Providers:()=>u,SupabaseContext:()=>d,useSupabase:()=>p});var r=s(5344),n=s(3729),a=s(8428),i=s(7435),o=s(9115),l=s(6274);let c=new o.S,d=(0,n.createContext)(null);function u({children:e}){let[t]=(0,n.useState)(()=>(0,i.createClientComponentClient)()),s=(0,a.useRouter)();return(0,n.useEffect)(()=>{let{data:{subscription:e}}=t.auth.onAuthStateChange(e=>{"SIGNED_OUT"===e&&s.push("/auth/login")});return()=>{e.unsubscribe()}},[t,s]),r.jsx(d.Provider,{value:t,children:r.jsx(l.aH,{client:c,children:e})})}let p=()=>{let e=(0,n.useContext)(d);if(!e)throw Error("useSupabase must be used within SupabaseProvider");return e}},4614:(e,t,s)=>{"use strict";s.d(t,{a:()=>l});var r=s(3729),n=s(7635),a=s(3158),i=s(7023);let o=(0,a.Ue)((0,i.tJ)(e=>({user:null,organization:null,teamMember:null,setUser:t=>e({user:t}),setOrganization:t=>e({organization:t}),setTeamMember:t=>e({teamMember:t}),reset:()=>e({user:null,organization:null,teamMember:null})}),{name:"spiler-auth"}));function l(){let e=(0,n.useSupabase)(),{user:t,organization:s,teamMember:a,setUser:i,setOrganization:l,setTeamMember:c,reset:d}=o(),[u,p]=(0,r.useState)(!0);async function x(){try{let{data:{user:t}}=await e.auth.getUser();if(t){i(t);let{data:s}=await e.from("team_members").select(`
            *,
            organization:organizations(*)
          `).eq("user_id",t.id).single();s&&(c(s),l(s.organization))}}catch(e){console.error("Error loading user:",e)}finally{p(!1)}}return(0,r.useEffect)(()=>{x();let{data:{subscription:t}}=e.auth.onAuthStateChange(async(e,t)=>{t?await x():d()});return()=>t.unsubscribe()},[]),{user:t,organization:s,teamMember:a,loading:u,signIn:async function(t,s){let{data:r,error:n}=await e.auth.signInWithPassword({email:t,password:s});if(n)throw n;return r},signUp:async function(t,s,r={}){let{data:n,error:a}=await e.auth.signUp({email:t,password:s,options:{data:r}});if(a)throw a;return n},signOut:async function(){let{error:t}=await e.auth.signOut();if(t)throw t;d()}}}},432:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>a,__esModule:()=>n,default:()=>i});let r=(0,s(6843).createProxy)(String.raw`/Users/sidewayz8/Spiler/src/app/donors/page.tsx`),{__esModule:n,$$typeof:a}=r,i=r.default},847:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>x,metadata:()=>p});var r=s(5036),n=s(2195),a=s.n(n);s(5023);var i=s(6843);let o=(0,i.createProxy)(String.raw`/Users/sidewayz8/Spiler/src/components/providers/Providers.tsx`),{__esModule:l,$$typeof:c}=o;o.default,(0,i.createProxy)(String.raw`/Users/sidewayz8/Spiler/src/components/providers/Providers.tsx#SupabaseContext`);let d=(0,i.createProxy)(String.raw`/Users/sidewayz8/Spiler/src/components/providers/Providers.tsx#Providers`);(0,i.createProxy)(String.raw`/Users/sidewayz8/Spiler/src/components/providers/Providers.tsx#useSupabase`);var u=s(9636);let p={title:"Spiler - Professional Campaign Auto-Dialer",description:"State-of-the-art fundraising that uses YOUR phone",manifest:"/manifest.json",themeColor:"#1a1a2e",viewport:"width=device-width, initial-scale=1, maximum-scale=1"};function x({children:e}){return r.jsx("html",{lang:"en",className:"dark",children:r.jsx("body",{className:`${a().className} bg-spiler-darker text-white`,children:(0,r.jsxs)(d,{children:[e,r.jsx(u.x7,{position:"bottom-right",toastOptions:{className:"",style:{background:"#1a1a2e",color:"#fff",border:"1px solid #6366f1"}}})]})})})}},5023:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[727,495],()=>s(5998));module.exports=r})();