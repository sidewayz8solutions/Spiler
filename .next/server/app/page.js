(()=>{var e={};e.id=931,e.ids=[931],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4300:e=>{"use strict";e.exports=require("buffer")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},5477:e=>{"use strict";e.exports=require("punycode")},2781:e=>{"use strict";e.exports=require("stream")},7310:e=>{"use strict";e.exports=require("url")},9796:e=>{"use strict";e.exports=require("zlib")},4633:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>i.a,__next_app__:()=>h,originalPathname:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>d});var r=a(482),n=a(9108),s=a(2563),i=a.n(s),o=a(8300),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);a.d(t,l);let d=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,1136)),"/Users/sidewayz8/Spiler/src/app/page.tsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,847)),"/Users/sidewayz8/Spiler/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,9361,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/sidewayz8/Spiler/src/app/page.tsx"],u="/page",h={require:a,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},3424:(e,t,a)=>{Promise.resolve().then(a.t.bind(a,2583,23)),Promise.resolve().then(a.t.bind(a,6840,23)),Promise.resolve().then(a.t.bind(a,8771,23)),Promise.resolve().then(a.t.bind(a,3225,23)),Promise.resolve().then(a.t.bind(a,9295,23)),Promise.resolve().then(a.t.bind(a,3982,23))},4178:(e,t,a)=>{Promise.resolve().then(a.bind(a,4669)),Promise.resolve().then(a.bind(a,7635))},9153:(e,t,a)=>{Promise.resolve().then(a.bind(a,4291))},4291:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>P});var r=a(5344),n=a(3729),s=a(6506);function i(e){let t=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===t?new e.constructor(+e):new Date("number"==typeof e||"[object Number]"===t||"string"==typeof e||"[object String]"===t?e:NaN)}function o(e,t){let a=i(e),r=i(t),n=a.getTime()-r.getTime();return n<0?-1:n>0?1:n}let l={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function d(e){return (t={})=>{let a=t.width?String(t.width):e.defaultWidth;return e.formats[a]||e.formats[e.defaultWidth]}}let c={date:d({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:d({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:d({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},u={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function h(e){return(t,a)=>{let r;if("formatting"===(a?.context?String(a.context):"standalone")&&e.formattingValues){let t=e.defaultFormattingWidth||e.defaultWidth,n=a?.width?String(a.width):t;r=e.formattingValues[n]||e.formattingValues[t]}else{let t=e.defaultWidth,n=a?.width?String(a.width):e.defaultWidth;r=e.values[n]||e.values[t]}return r[e.argumentCallback?e.argumentCallback(t):t]}}function m(e){return(t,a={})=>{let r;let n=a.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;let o=i[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],d=Array.isArray(l)?function(e,t){for(let a=0;a<e.length;a++)if(t(e[a]))return a}(l,e=>e.test(o)):function(e,t){for(let a in e)if(Object.prototype.hasOwnProperty.call(e,a)&&t(e[a]))return a}(l,e=>e.test(o));return r=e.valueCallback?e.valueCallback(d):d,{value:r=a.valueCallback?a.valueCallback(r):r,rest:t.slice(o.length)}}}let f={code:"en-US",formatDistance:(e,t,a)=>{let r;let n=l[e];return(r="string"==typeof n?n:1===t?n.one:n.other.replace("{{count}}",t.toString()),a?.addSuffix)?a.comparison&&a.comparison>0?"in "+r:r+" ago":r},formatLong:c,formatRelative:(e,t,a,r)=>u[e],localize:{ordinalNumber:(e,t)=>{let a=Number(e),r=a%100;if(r>20||r<10)switch(r%10){case 1:return a+"st";case 2:return a+"nd";case 3:return a+"rd"}return a+"th"},era:h({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:h({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:h({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:h({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:h({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:function(e){return(t,a={})=>{let r=t.match(e.matchPattern);if(!r)return null;let n=r[0],s=t.match(e.parsePattern);if(!s)return null;let i=e.valueCallback?e.valueCallback(s[0]):s[0];return{value:i=a.valueCallback?a.valueCallback(i):i,rest:t.slice(n.length)}}}({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)}),era:m({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:m({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:m({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:m({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:m({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}},x={};function g(e){let t=i(e),a=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return a.setUTCFullYear(t.getFullYear()),+e-+a}var p=a(7635);function b({organizationId:e}){let t=(0,p.useSupabase)(),[a,s]=(0,n.useState)([]);async function l(){let{data:a}=await t.from("calls").select("*").eq("organization_id",e).order("created_at",{ascending:!1}).limit(5),{data:r}=await t.from("donations").select("*").eq("organization_id",e).order("created_at",{ascending:!1}).limit(5);s([...(a||[]).map(e=>({...e,type:"call",message:"Call completed"})),...(r||[]).map(e=>({...e,type:"donation",message:`Donation: $${e.amount}`}))].sort((e,t)=>new Date(t.created_at).getTime()-new Date(e.created_at).getTime()).slice(0,10))}return(0,n.useEffect)(()=>{if(!e)return;l();let a=t.channel(`activity-${e}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"calls"},e=>{let t={...e.new,type:"call",message:"New call started",time:e.new.created_at};s(e=>[t,...e].slice(0,10))}).on("postgres_changes",{event:"INSERT",schema:"public",table:"donations"},e=>{let t=e.new,a={...e.new,type:"donation",message:`Donation received: $${t.amount}`,time:e.new.created_at};s(e=>[a,...e].slice(0,10))}).subscribe();return()=>{t.removeChannel(a)}},[e,t]),(0,r.jsxs)("div",{className:"card h-full",children:[r.jsx("h2",{className:"text-xl font-bold mb-4",children:"Recent Activity"}),r.jsx("div",{className:"space-y-3",children:0===a.length?r.jsx("p",{className:"text-gray-400 text-center py-8",children:"No recent activity"}):a.map((e,t)=>{var a,n,s;return(0,r.jsxs)("div",{className:"flex items-start space-x-3 p-3 rounded-lg hover:bg-white/5 transition-colors",children:[r.jsx("div",{className:`
                w-2 h-2 rounded-full mt-2
                ${"donation"===e.type?"bg-green-500":"bg-blue-500"}
              `}),(0,r.jsxs)("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm",children:e.message}),r.jsx("p",{className:"text-xs text-gray-400",children:(a=new Date(e.created_at||e.time||""),n={addSuffix:!0},function(e,t,a){var r,n,s,l;let d,c,u;let h=a?.locale??x.locale??f,m=o(e,t);if(isNaN(m))throw RangeError("Invalid time value");let p=Object.assign({},a,{addSuffix:a?.addSuffix,comparison:m});m>0?(d=i(t),c=i(e)):(d=i(e),c=i(t));let b=(r=c,n=d,(l=void 0,e=>{let t=(l?Math[l]:Math.trunc)(e);return 0===t?0:t})((+i(r)-+i(n))/1e3)),w=Math.round((b-(g(c)-g(d))/1e3)/60);if(w<2){if(a?.includeSeconds){if(b<5)return h.formatDistance("lessThanXSeconds",5,p);if(b<10)return h.formatDistance("lessThanXSeconds",10,p);if(b<20)return h.formatDistance("lessThanXSeconds",20,p);if(b<40)return h.formatDistance("halfAMinute",0,p);else if(b<60)return h.formatDistance("lessThanXMinutes",1,p);else return h.formatDistance("xMinutes",1,p)}return 0===w?h.formatDistance("lessThanXMinutes",1,p):h.formatDistance("xMinutes",w,p)}if(w<45)return h.formatDistance("xMinutes",w,p);if(w<90)return h.formatDistance("aboutXHours",1,p);if(w<1440)return h.formatDistance("aboutXHours",Math.round(w/60),p);if(w<2520)return h.formatDistance("xDays",1,p);if(w<43200)return h.formatDistance("xDays",Math.round(w/1440),p);if(w<86400)return u=Math.round(w/43200),h.formatDistance("aboutXMonths",u,p);if((u=function(e,t){let a;let r=i(e),n=i(t),s=o(r,n),l=Math.abs(function(e,t){let a=i(e),r=i(t);return 12*(a.getFullYear()-r.getFullYear())+(a.getMonth()-r.getMonth())}(r,n));if(l<1)a=0;else{1===r.getMonth()&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-s*l);let t=o(r,n)===-s;(function(e){let t=i(e);return+function(e){let t=i(e);return t.setHours(23,59,59,999),t}(t)==+function(e){let t=i(e),a=t.getMonth();return t.setFullYear(t.getFullYear(),a+1,0),t.setHours(23,59,59,999),t}(t)})(i(e))&&1===l&&1===o(e,n)&&(t=!1),a=s*(l-Number(t))}return 0===a?0:a}(c,d))<12)return h.formatDistance("xMonths",Math.round(w/43200),p);{let e=u%12,t=Math.trunc(u/12);return e<3?h.formatDistance("aboutXYears",t,p):e<9?h.formatDistance("overXYears",t,p):h.formatDistance("almostXYears",t+1,p)}}(a,(s=Date.now(),a instanceof Date?new a.constructor(s):new Date(s)),n))})]})]},t)})})]})}var w=a(5101);let v=n.forwardRef(function({title:e,titleId:t,...a},r){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?n.createElement("title",{id:t},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.347a1.125 1.125 0 0 1 0 1.972l-11.54 6.347a1.125 1.125 0 0 1-1.667-.986V5.653Z"}))}),y=n.forwardRef(function({title:e,titleId:t,...a},r){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?n.createElement("title",{id:t},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))});var j=a(8360),N=a(518),M=a(4968),S=a(6233);function P(){let e=(0,p.useSupabase)(),[t,a]=(0,n.useState)({totalCalls:0,totalDonors:0,totalRaised:0,successRate:0,activeCalls:0,todaysCalls:0}),[i,o]=(0,n.useState)(!0);async function l(){try{let{data:t}=await e.from("calls").select("*"),{data:r}=await e.from("donors").select("*"),{data:n}=await e.from("donations").select("amount"),s=n?.reduce((e,t)=>e+t.amount,0)||0,i=t?.filter(e=>"donated"===e.outcome).length||0,o=t?.length>0?Math.round(i/t.length*100):0,l=new Date;l.setHours(0,0,0,0);let{data:d}=await e.from("calls").select("*").gte("created_at",l.toISOString());a({totalCalls:t?.length||0,totalDonors:r?.length||0,totalRaised:s,successRate:o,activeCalls:t?.filter(e=>"active"===e.status).length||0,todaysCalls:d?.length||0})}catch(e){console.error("Error loading dashboard stats:",e)}finally{o(!1)}}return(0,n.useEffect)(()=>{l()},[]),(0,r.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900",children:[r.jsx(w.Z,{}),(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[(0,r.jsxs)("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:"Campaign Dashboard"}),r.jsx("p",{className:"text-gray-300 text-lg",children:"Monitor your fundraising performance and manage your calling campaigns"})]}),(0,r.jsxs)("div",{className:"mb-8 flex flex-wrap gap-4",children:[(0,r.jsxs)(s.default,{href:"/dialer",className:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-green-500 to-emerald-600 text-white font-semibold rounded-lg hover:from-green-600 hover:to-emerald-700 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:scale-105",children:[r.jsx(v,{className:"w-5 h-5 mr-2"}),"Start Calling"]}),(0,r.jsxs)(s.default,{href:"/analytics",className:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-blue-500 to-indigo-600 text-white font-semibold rounded-lg hover:from-blue-600 hover:to-indigo-700 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:scale-105",children:[r.jsx(y,{className:"w-5 h-5 mr-2"}),"View Analytics"]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,r.jsxs)("div",{className:"bg-white/10 backdrop-blur-lg rounded-xl p-6 border border-white/20 hover:border-green-400/50 transition-all duration-300 shadow-xl",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-white",children:"Active Calls"}),r.jsx(j.Z,{className:"w-8 h-8 text-green-400"})]}),r.jsx("div",{className:"text-3xl font-bold text-green-400 mb-2",children:i?"...":t.activeCalls}),(0,r.jsxs)("div",{className:"text-sm text-gray-300",children:[i?"...":t.todaysCalls," calls today"]})]}),(0,r.jsxs)("div",{className:"bg-white/10 backdrop-blur-lg rounded-xl p-6 border border-white/20 hover:border-blue-400/50 transition-all duration-300 shadow-xl",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-white",children:"Total Donors"}),r.jsx(N.Z,{className:"w-8 h-8 text-blue-400"})]}),r.jsx("div",{className:"text-3xl font-bold text-blue-400 mb-2",children:i?"...":t.totalDonors.toLocaleString()}),r.jsx("div",{className:"text-sm text-gray-300",children:"Registered donors"})]}),(0,r.jsxs)("div",{className:"bg-white/10 backdrop-blur-lg rounded-xl p-6 border border-white/20 hover:border-yellow-400/50 transition-all duration-300 shadow-xl",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-white",children:"Funds Raised"}),r.jsx(M.Z,{className:"w-8 h-8 text-yellow-400"})]}),r.jsx("div",{className:"text-3xl font-bold text-yellow-400 mb-2",children:i?"...":`$${t.totalRaised.toLocaleString()}`}),r.jsx("div",{className:"text-sm text-gray-300",children:"Total campaign funds"})]}),(0,r.jsxs)("div",{className:"bg-white/10 backdrop-blur-lg rounded-xl p-6 border border-white/20 hover:border-purple-400/50 transition-all duration-300 shadow-xl",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-white",children:"Success Rate"}),r.jsx(S.Z,{className:"w-8 h-8 text-purple-400"})]}),r.jsx("div",{className:"text-3xl font-bold text-purple-400 mb-2",children:i?"...":`${t.successRate}%`}),r.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:r.jsx("div",{className:"bg-gradient-to-r from-purple-400 to-pink-400 h-2 rounded-full transition-all duration-500",style:{width:`${t.successRate}%`}})})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[r.jsx("div",{className:"lg:col-span-2",children:r.jsx(b,{organizationId:"default"})}),(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"bg-white/10 backdrop-blur-lg rounded-xl p-6 border border-white/20 shadow-xl",children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Today's Performance"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-gray-300",children:"Calls Made"}),r.jsx("span",{className:"text-white font-semibold",children:i?"...":t.todaysCalls})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-gray-300",children:"Active Now"}),r.jsx("span",{className:"text-green-400 font-semibold",children:i?"...":t.activeCalls})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-gray-300",children:"Success Rate"}),r.jsx("span",{className:"text-purple-400 font-semibold",children:i?"...":`${t.successRate}%`})]})]})]}),(0,r.jsxs)("div",{className:"bg-white/10 backdrop-blur-lg rounded-xl p-6 border border-white/20 shadow-xl",children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Quick Actions"}),(0,r.jsxs)("div",{className:"space-y-3",children:[r.jsx(s.default,{href:"/donors",className:"block w-full text-left px-4 py-3 bg-white/10 hover:bg-white/20 rounded-lg transition-colors text-white",children:"Manage Donors"}),r.jsx(s.default,{href:"/queue",className:"block w-full text-left px-4 py-3 bg-white/10 hover:bg-white/20 rounded-lg transition-colors text-white",children:"View Call Queue"}),r.jsx(s.default,{href:"/settings",className:"block w-full text-left px-4 py-3 bg-white/10 hover:bg-white/20 rounded-lg transition-colors text-white",children:"Campaign Settings"})]})]})]})]})]})]})}},5101:(e,t,a)=>{"use strict";a.d(t,{Z:()=>p});var r=a(5344),n=a(3729),s=a(6506),i=a(8428),o=a(4614),l=a(6233),d=a(8360),c=a(7306),u=a(518),h=a(4104),m=a(6501),f=a(7602),x=a(364);let g=[{href:"/",label:"Dashboard",icon:l.Z},{href:"/dialer",label:"Dialer",icon:d.Z},{href:"/queue",label:"Queue",icon:c.Z},{href:"/donors",label:"Donors",icon:u.Z},{href:"/analytics",label:"Analytics",icon:l.Z},{href:"/settings",label:"Settings",icon:h.Z}];function p(){let e=(0,i.usePathname)(),{user:t,signOut:a}=(0,o.a)(),[l,d]=(0,n.useState)(!1);return(0,r.jsxs)("nav",{className:"bg-spiler-dark/50 backdrop-blur-lg border-b border-indigo-500/10 sticky top-0 z-50",children:[r.jsx("div",{className:"max-w-7xl mx-auto px-4",children:(0,r.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,r.jsxs)(s.default,{href:"/",className:"flex items-center space-x-2",children:[r.jsx("span",{className:"text-2xl",children:"\uD83D\uDCDE"}),r.jsx("span",{className:"text-xl font-bold text-gradient",children:"Spiler"})]}),r.jsx("div",{className:"hidden md:flex items-center space-x-1",children:g.map(t=>{let a=t.icon,n=e===t.href;return(0,r.jsxs)(s.default,{href:t.href,className:`
                    flex items-center space-x-2 px-4 py-2 rounded-lg transition-all
                    ${n?"bg-indigo-500/20 text-indigo-400":"text-gray-400 hover:text-white hover:bg-white/5"}
                  `,children:[r.jsx(a,{className:"w-5 h-5"}),r.jsx("span",{children:t.label})]},t.href)})}),(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsxs)("div",{className:"hidden md:flex items-center space-x-3",children:[r.jsx("span",{className:"text-sm text-gray-400",children:t?.email}),r.jsx("button",{onClick:a,className:"p-2 text-gray-400 hover:text-white transition-colors",title:"Sign out",children:r.jsx(m.Z,{className:"w-5 h-5"})})]}),r.jsx("button",{onClick:()=>d(!l),className:"md:hidden p-2 text-gray-400 hover:text-white",children:l?r.jsx(f.Z,{className:"w-6 h-6"}):r.jsx(x.Z,{className:"w-6 h-6"})})]})]})}),l&&r.jsx("div",{className:"md:hidden bg-spiler-dark border-t border-indigo-500/10",children:(0,r.jsxs)("div",{className:"px-4 py-4 space-y-2",children:[g.map(t=>{let a=t.icon,n=e===t.href;return(0,r.jsxs)(s.default,{href:t.href,onClick:()=>d(!1),className:`
                    flex items-center space-x-3 px-4 py-3 rounded-lg transition-all
                    ${n?"bg-indigo-500/20 text-indigo-400":"text-gray-400 hover:text-white hover:bg-white/5"}
                  `,children:[r.jsx(a,{className:"w-5 h-5"}),r.jsx("span",{children:t.label})]},t.href)}),(0,r.jsxs)("button",{onClick:a,className:"flex items-center space-x-3 px-4 py-3 text-red-400 hover:bg-red-500/10 rounded-lg w-full",children:[r.jsx(m.Z,{className:"w-5 h-5"}),r.jsx("span",{children:"Sign Out"})]})]})})]})}},7635:(e,t,a)=>{"use strict";a.r(t),a.d(t,{Providers:()=>u,SupabaseContext:()=>c,useSupabase:()=>h});var r=a(5344),n=a(3729),s=a(8428),i=a(7435),o=a(9115),l=a(6274);let d=new o.S,c=(0,n.createContext)(null);function u({children:e}){let[t]=(0,n.useState)(()=>(0,i.createClientComponentClient)()),a=(0,s.useRouter)();return(0,n.useEffect)(()=>{let{data:{subscription:e}}=t.auth.onAuthStateChange(e=>{"SIGNED_OUT"===e&&a.push("/auth/login")});return()=>{e.unsubscribe()}},[t,a]),r.jsx(c.Provider,{value:t,children:r.jsx(l.aH,{client:d,children:e})})}let h=()=>{let e=(0,n.useContext)(c);if(!e)throw Error("useSupabase must be used within SupabaseProvider");return e}},4614:(e,t,a)=>{"use strict";a.d(t,{a:()=>l});var r=a(3729),n=a(7635),s=a(3158),i=a(7023);let o=(0,s.Ue)((0,i.tJ)(e=>({user:null,organization:null,teamMember:null,setUser:t=>e({user:t}),setOrganization:t=>e({organization:t}),setTeamMember:t=>e({teamMember:t}),reset:()=>e({user:null,organization:null,teamMember:null})}),{name:"spiler-auth"}));function l(){let e=(0,n.useSupabase)(),{user:t,organization:a,teamMember:s,setUser:i,setOrganization:l,setTeamMember:d,reset:c}=o(),[u,h]=(0,r.useState)(!0);async function m(){try{let{data:{user:t}}=await e.auth.getUser();if(t){i(t);let{data:a}=await e.from("team_members").select(`
            *,
            organization:organizations(*)
          `).eq("user_id",t.id).single();a&&(d(a),l(a.organization))}}catch(e){console.error("Error loading user:",e)}finally{h(!1)}}return(0,r.useEffect)(()=>{m();let{data:{subscription:t}}=e.auth.onAuthStateChange(async(e,t)=>{t?await m():c()});return()=>t.unsubscribe()},[]),{user:t,organization:a,teamMember:s,loading:u,signIn:async function(t,a){let{data:r,error:n}=await e.auth.signInWithPassword({email:t,password:a});if(n)throw n;return r},signUp:async function(t,a,r={}){let{data:n,error:s}=await e.auth.signUp({email:t,password:a,options:{data:r}});if(s)throw s;return n},signOut:async function(){let{error:t}=await e.auth.signOut();if(t)throw t;c()}}}},847:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>m,metadata:()=>h});var r=a(5036),n=a(2195),s=a.n(n);a(5023);var i=a(6843);let o=(0,i.createProxy)(String.raw`/Users/sidewayz8/Spiler/src/components/providers/Providers.tsx`),{__esModule:l,$$typeof:d}=o;o.default,(0,i.createProxy)(String.raw`/Users/sidewayz8/Spiler/src/components/providers/Providers.tsx#SupabaseContext`);let c=(0,i.createProxy)(String.raw`/Users/sidewayz8/Spiler/src/components/providers/Providers.tsx#Providers`);(0,i.createProxy)(String.raw`/Users/sidewayz8/Spiler/src/components/providers/Providers.tsx#useSupabase`);var u=a(9636);let h={title:"Spiler - Professional Campaign Auto-Dialer",description:"State-of-the-art fundraising that uses YOUR phone",manifest:"/manifest.json",themeColor:"#1a1a2e",viewport:"width=device-width, initial-scale=1, maximum-scale=1"};function m({children:e}){return r.jsx("html",{lang:"en",className:"dark",children:r.jsx("body",{className:`${s().className} bg-spiler-darker text-white`,children:(0,r.jsxs)(c,{children:[e,r.jsx(u.x7,{position:"bottom-right",toastOptions:{className:"",style:{background:"#1a1a2e",color:"#fff",border:"1px solid #6366f1"}}})]})})})}},1136:(e,t,a)=>{"use strict";a.r(t),a.d(t,{$$typeof:()=>s,__esModule:()=>n,default:()=>i});let r=(0,a(6843).createProxy)(String.raw`/Users/sidewayz8/Spiler/src/app/page.tsx`),{__esModule:n,$$typeof:s}=r,i=r.default},5023:()=>{},4968:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});var r=a(3729);let n=r.forwardRef(function({title:e,titleId:t,...a},n){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},a),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))})}};var t=require("../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[727,495],()=>a(4633));module.exports=r})();